@page "/"
@namespace SMMTracker.WebUI.Shared
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

<component type="typeof(App)" render-mode="ServerPrerendered"/>

<script>
    window.telegramLogin = {
        renderWidget: function(elementId, dotNetHelper) {
            console.log("Телеграм виджет готов для", elementId);
        },
        processAuth: function(user) {
            dotNetHelper.invokeMethodAsync('ProcessTelegramAuth', user);
        }
    };
</script>

<script async src="https://telegram.org/js/telegram-widget.js?7"
        data-telegram-login="@@TrackerSmmBot"
        data-size="large"
        data-userpic="false"
        data-radius="10"
        data-request-access="write"
        data-lang="ru"
        data-onauth="telegramLogin.processAuth(user)">
</script>
